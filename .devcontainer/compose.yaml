name: "TriplaInterview"

services:
  devcontainer:
    build:
      context: ../
      dockerfile: .devcontainer/Dockerfile.dev
      args:
        DEVELOPER_UID: ${DEVELOPER_UID:-501}
        DOCKER_GID: ${DOCKER_GID:-1}
    pull_policy: never
    volumes:
      - ../:/workspaces:cached
      # Reuse host Docker daemon (achieves similar effect to devcontainer feature "docker-outside-of-docker" for Alpine)
      - /var/run/docker.sock:/var/run/docker.sock
    command: tail -f /dev/null
    # depends_on:
    #   - dynamic-pricing-base
    user: developer
    network_mode: host
